{"version":3,"file":"qiyu.js","sourceRoot":"","sources":["../../../src/qiyu/qiyu.ts"],"names":[],"mappings":"AAAA,IAAI,GAAG,GAAG,KAAK,CAAC;AAEhB,IAAA;;;IACE,sBAAkB,mBAAW;aAA7B;YACE,MAAM,CAAC,OAAO,MAAM,CAAC,GAAG,CAAC,IAAI,WAAW,CAAC;SAC1C;;;OAAA;IAAA,CAAC;IAEY,UAAK,GAAnB;QACE,MAAM,CAAC,IAAI,OAAO,CAAM,UAAA,OAAO;YAC7B,IAAI,IAAI,GAAG,UAAC,EAAU;gBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;oBACrB,OAAO,CAAC,IAAI,CAAC,CAAA;iBACd;gBAAC,IAAI,CAAC,CAAC;oBACN,UAAU,CAAC,cAAM,OAAA,IAAI,CAAC,EAAE,CAAC,EAAR,CAAQ,EAAE,EAAE,CAAC,CAAA;iBAC/B;aACF,CAAC;YACF,IAAI,CAAC,GAAG,CAAC,CAAC;SACX,CAAC,CAAA;KACH;IAEa,QAAG,GAAjB;QACE,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC;KACzB;IAED;;;OAGG;IAEH;;;;;;;;;;;;SAYK;;;;;;;;;;;;;;;;;;IAEU,QAAG;;;;;;;;;;;;;;;;;IAAlB;QACE,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACpB;eA7CH;IA8CC,CAAA;AA5CD,gBA4CC","sourcesContent":["let YSF = \"ysf\";\n\nexport class Qiyu {\n  public static get initialized() {\n    return typeof window[YSF] != \"undefined\";\n  };\n\n  public static ready(): Promise<Qiyu> {\n    return new Promise<any>(resolve => {\n      let loop = (ms: number) => {\n        if (Qiyu.initialized) {\n          resolve(Qiyu)\n        } else {\n          setTimeout(() => loop(ms), ms)\n        }\n      };\n      loop(100);\n    })\n  }\n\n  public static url() {\n    return Qiyu.ysf().url();\n  }\n\n  /**\n   *\n   * @param {QiyuConfig} config\n   */\n\n  /*  public static config(config: QiyuConfig) {\n      return new Promise(resolve => {\n        (config as any).success = () => {\n          resolve(true)\n        };\n        (config as any).error = () => {\n          resolve(false)\n        };\n        ysf.on({\n          onload: () => ysf.config(config)\n        })\n      });\n    }*/\n\n  private static ysf(): any {\n    return window[YSF];\n  }\n}\n\nexport interface QiyuConfig {\n  uid: string;\n  name?: string;\n  email?: string;\n  mobile?: string;\n  // success?: () => void;\n  // error?: () => void;\n}\n"]}